<!DOCTYPE html><html lang="en" class=" js content-loading loading"><head>

    <meta charset="utf-8">
    <meta name="author" content="stephband">
    <meta name="description" content="Documentation for Fn. A library of functions, observers and streams, published as ES6 modules.">
    <meta name="viewport" content="width=device-width">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@stephband">
    <meta property="og:url" content="http://stephen.band/fn/">
    <meta property="og:title" content="Fn">
    <meta property="og:description" content="A library of functions, observers and streams, published as ES6 modules.">
    <meta property="og:image" content="">

    <title>Fn</title>

    <script title="load">
    document.documentElement.className += ' js content-loading loading';
    window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. data-targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
    </script>

    <link rel="shortcut icon" href="images/logo-64x64.ico">
    <link rel="icon" type="image/png" href="images/logo-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="images/logo-64x64.png" sizes="64x64">
    <link rel="icon" type="image/png" href="images/logo-128x128.png" sizes="128x128">




    <link rel="stylesheet" href="style.min.css">
    <!--link rel="stylesheet" href="style.css" /-->
</head>

<body class="grid @1-6x-grid @3-9x-grid">
    <header class="x1 3x @1-6x @2-9x @3-x2 @3-11x" id="header">

    <h1 class="doctext-01">Fn <span class="doctext-06">1.4.0</span></h1>
    <p class="doctext-08">A library of functions, observers and streams, published as ES6 modules.</p>
    <ul class="link-index index">
        <li><strong>repo:</strong> <a href="https://github.com/stephband/fn.git">github.com/stephband/fn.git</a></li>
        <li><strong>bugs:</strong> <a href="https://github.com/stephband/fn/issues">github.com/stephband/fn/issues</a></li>
    </ul>

    </header>

    <section class="x1 3x @1-6x @2-9x @3-x2 grid" data-targetable="" id="functions">
        <header class="x1 3x @1-4x">
            <h2 class="doctext-02">Functions</h2>
            <p class="doctext-08">Import functions from the Fn module:</p>
            <pre class=" language-js"><code class=" language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">,</span> matches <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/fn/module.js'</span><span class="token punctuation">;</span></code></pre>
        </header>

        <div class="x1 3x">
            <h4 class="doctext-03">Functions</h4>
            <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-cache-fn">
        <h3 class="doctext-05 ">
            <a href="#function-cache-fn">
                <code class="function language-js"><span class="token function">cache</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that caches the output values of <code>fn(input)</code>
against input values in a map, such that for each input value
<code>fn</code> is only ever called once.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-compose-fn2-fn1">
        <h3 class="doctext-05 ">
            <a href="#function-compose-fn2-fn1">
                <code class="function language-js"><span class="token function">compose</span><span class="token punctuation">(</span>fn2<span class="token punctuation">,</span> fn1<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Calls <code>fn1</code>, passes the result to <code>fn2</code>, and returns that result.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-curry-fn-muteable-arity">
        <h3 class="doctext-05 ">
            <a href="#function-curry-fn-muteable-arity">
                <code class="function language-js"><span class="token function">curry</span><span class="token punctuation">(</span>fn <span class="token punctuation">[</span><span class="token punctuation">,</span> muteable<span class="token punctuation">,</span> arity<span class="token punctuation">]</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that wraps <code>fn</code> and makes it partially applicable.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-choose-fn-map">
        <h3 class="doctext-05 ">
            <a href="#function-choose-fn-map">
                <code class="function language-js"><span class="token function">choose</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> map<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that takes its first argument as a key and uses it
to select a function in <code>map</code> which is invoked with the remaining arguments.</p>
<p>Where <code>map</code> has a function <code>default</code>, that function is run when a key
is not found, otherwise unfound keys will error.</p>
<pre><code><span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token function">choose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'fish'</span><span class="token punctuation">:</span>  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'chips'</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'fish'</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// Calls fn1(a, b)</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-once-fn">
        <h3 class="doctext-05 ">
            <a href="#function-once-fn">
                <code class="function language-js"><span class="token function">once</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that calls <code>fn</code> the first time it is invoked,
and then becomes a noop.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-overload-fn-map">
        <h3 class="doctext-05 ">
            <a href="#function-overload-fn-map">
                <code class="function language-js"><span class="token function">overload</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> map<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that calls a function at the property of <code>object</code> that
matches the result of calling <code>fn</code> with all arguments.</p><p></p>
<pre><code><span class="token keyword">var</span> fn <span class="token operator">=</span> <span class="token function">overload</span><span class="token punctuation">(</span>toType<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    string<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    number<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'pie'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Returns a('pie', 4)</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Returns b(1, 2)</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-pipe-fn1-fn2">
        <h3 class="doctext-05 ">
            <a href="#function-pipe-fn1-fn2">
                <code class="function language-js"><span class="token function">pipe</span><span class="token punctuation">(</span>fn1<span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that calls <code>fn1</code>, <code>fn2</code>, etc., passing the result of
calling one function to the next and returning the the last result.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-weakcache-fn">
        <h3 class="doctext-05 ">
            <a href="#function-weakcache-fn">
                <code class="function language-js"><span class="token function">weakCache</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that caches the return values of <code>fn()</code>
against input values in a WeakMap, such that for each input value
<code>fn</code> is only ever called once.</p>
</article>

        </div>

        <div class="x1 3x @2-4x">
            <p class="doctext-08">
            The functions below are curried (where they take more than one
            parameter). They may be partially applied.
            </p>
        </div>

        <div class="x1 3x column-grid grid">
            <div class="x1">
                <h4 class="doctext-03">Objects</h4>
                <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-argument-n">
        <h3 class="doctext-05 ">
            <a href="#function-argument-n">
                <code class="function language-js"><span class="token function">argument</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that returns its nth argument when called.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-call-fn">
        <h3 class="doctext-05 ">
            <a href="#function-call-fn">
                <code class="function language-js"><span class="token function">call</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a function that calls <code>fn()</code> with no arguments.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-equals-a-b">
        <h3 class="doctext-05 ">
            <a href="#function-equals-a-b">
                <code class="function language-js"><span class="token function">equals</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Perform a deep equality comparison of <code>a</code> and <code>b</code>. Returns <code>true</code> if
they are equal.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-get-name-object">
        <h3 class="doctext-05 ">
            <a href="#function-get-name-object">
                <code class="function language-js"><span class="token keyword">get</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Get property <code>name</code> of <code>object</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-getpath-path-object">
        <h3 class="doctext-05 ">
            <a href="#function-getpath-path-object">
                <code class="function language-js"><span class="token function">getPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns the value at <code>path</code> in <code>object</code>.</p>
<pre><code><span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token string">'path.to.value'</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-has-key-value-object">
        <h3 class="doctext-05 ">
            <a href="#function-has-key-value-object">
                <code class="function language-js"><span class="token function">has</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>true</code> if <code>object[key]</code> is strictly equal to <code>value</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-id-value">
        <h3 class="doctext-05 ">
            <a href="#function-id-value">
                <code class="function language-js"><span class="token function">id</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>value</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-invoke-name-parameters-object">
        <h3 class="doctext-05 ">
            <a href="#function-invoke-name-parameters-object">
                <code class="function language-js"><span class="token function">invoke</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> parameters<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Invokes <code>object.name()</code> with <code>parameters</code> as arguments. For example:</p>
<pre><code>models<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token string">'save'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>version<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-is-a-b">
        <h3 class="doctext-05 ">
            <a href="#function-is-a-b">
                <code class="function language-js"><span class="token function">is</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Perform a strict equality check of <code>a === b</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-isdefined-value">
        <h3 class="doctext-05 ">
            <a href="#function-isdefined-value">
                <code class="function language-js"><span class="token function">isDefined</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Check for value – where <code>value</code> is <code>undefined</code>, <code>NaN</code> or <code>null</code>, returns
<code>false</code>, otherwise <code>true</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-matches-selector-object">
        <h3 class="doctext-05 ">
            <a href="#function-matches-selector-object">
                <code class="function language-js"><span class="token function">matches</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Where <code>selector</code> is an object containing properties to be compared against
properties of <code>object</code>. If they are all strictly equal, returns <code>true</code>,
otherwise <code>false</code>.</p>
<pre><code><span class="token keyword">const</span> vegeFoods <span class="token operator">=</span> menu<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">{</span> vegetarian<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-noop">
        <h3 class="doctext-05 ">
            <a href="#function-noop">
                <code class="function language-js"><span class="token function">noop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns undefined.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-not-value">
        <h3 class="doctext-05 ">
            <a href="#function-not-value">
                <code class="function language-js"><span class="token function">not</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>!value</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-requesttick-fn">
        <h3 class="doctext-05 ">
            <a href="#function-requesttick-fn">
                <code class="function language-js"><span class="token function">requestTick</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Call <code>fn</code> on the next tick.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-self">
        <h3 class="doctext-05 ">
            <a href="#function-self">
                <code class="function language-js"><span class="token function">self</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>this</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-set-key-object-value">
        <h3 class="doctext-05 ">
            <a href="#function-set-key-object-value">
                <code class="function language-js"><span class="token keyword">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> object<span class="token punctuation">,</span> value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <pre><code><span class="token comment">// Set `input.value` whenever a value is pushed into a stream:</span>
stream<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> input<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-setpath-path-object-value">
        <h3 class="doctext-05 ">
            <a href="#function-setpath-path-object-value">
                <code class="function language-js"><span class="token function">setPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> object<span class="token punctuation">,</span> value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Sets <code>value</code> at <code>path</code> in <code>object</code>.</p>
<pre><code>stream<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token string">'prop.value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> object<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-toarray-object">
        <h3 class="doctext-05 ">
            <a href="#function-toarray-object">
                <code class="function language-js"><span class="token function">toArray</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-toclass-object">
        <h3 class="doctext-05 ">
            <a href="#function-toclass-object">
                <code class="function language-js"><span class="token function">toClass</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-tofixed-number">
        <h3 class="doctext-05 ">
            <a href="#function-tofixed-number">
                <code class="function language-js"><span class="token function">toFixed</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-tostring-object">
        <h3 class="doctext-05 ">
            <a href="#function-tostring-object">
                <code class="function language-js"><span class="token function">toString</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>object.toString()</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-totype-object">
        <h3 class="doctext-05 ">
            <a href="#function-totype-object">
                <code class="function language-js"><span class="token function">toType</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>typeof object</code>.</p>
</article>

            </div>
        </div>

        <div class="x1 3x @1-x4 column-grid grid">
            <div class="x1">
                <h4 class="doctext-03">Strings</h4>
                <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-append-str2-str1">
        <h3 class="doctext-05 ">
            <a href="#function-append-str2-str1">
                <code class="function language-js"><span class="token function">append</span><span class="token punctuation">(</span>str2<span class="token punctuation">,</span> str1<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>str1 + str2</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-prepend-string1-string2">
        <h3 class="doctext-05 ">
            <a href="#function-prepend-string1-string2">
                <code class="function language-js"><span class="token function">prepend</span><span class="token punctuation">(</span>string1<span class="token punctuation">,</span> string2<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns <code>str1 + str2</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-prepad-chars-n-string">
        <h3 class="doctext-05 ">
            <a href="#function-prepad-chars-n-string">
                <code class="function language-js"><span class="token function">prepad</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> n<span class="token punctuation">,</span> string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Pads <code>string</code> to <code>n</code> characters by prepending <code>chars</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-postpad-chars-n-string">
        <h3 class="doctext-05 ">
            <a href="#function-postpad-chars-n-string">
                <code class="function language-js"><span class="token function">postpad</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span> n<span class="token punctuation">,</span> string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Pads <code>string</code> to <code>n</code> characters by appending <code>chars</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-capture-regex-reducers-accumulator-string">
        <h3 class="doctext-05 ">
            <a href="#function-capture-regex-reducers-accumulator-string">
                <code class="function language-js"><span class="token function">capture</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> reducers<span class="token punctuation">,</span> accumulator<span class="token punctuation">,</span> string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Parse <code>string</code> with <code>regex</code>, calling functions in <code>reducers</code> to modify
and return <code>accumulator</code>.</p>
<p>Reducers is an object of functions keyed by the index of their capturing
group in the regexp result (<code>0</code> corresponding to the entire regex match,
the first capturing group being at index <code>1</code>). Reducer functions are
called in capture order for all capturing groups that captured something.
Reducers may also define the function ‘close’, which is called at the end
of every capture. All reducer functions are passed the paremeters
<code>(accumulator, tokens)</code>, where <code>tokens</code> is the regexp result, and are expected
to return a value that is passed as an accumulator to the next reducer function.</p>
<p>Reducers may also define a function <code>'catch'</code>, which is called when a match
has not been made (where <code>'catch'</code> is not defined an error is thrown).</p>
<pre><code class="language-js"><span class="token keyword">const</span> parseValue <span class="token operator">=</span> <span class="token function">capture</span><span class="token punctuation">(</span><span class="token regex">/^\s*(-?\d*\.?\d+)(\w+)?\s*$/</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// Create a new accumulator object each call</span>
    <span class="token number">0</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        acc<span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>tokens<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token number">2</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        acc<span class="token punctuation">.</span>unit <span class="token operator">=</span> tokens<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> acc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">parseValue</span><span class="token punctuation">(</span><span class="token string">'36rem'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// { number: 36, unit: 'rem' }</span></code></pre>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-exec-regex-fn-string">
        <h3 class="doctext-05 ">
            <a href="#function-exec-regex-fn-string">
                <code class="function language-js"><span class="token function">exec</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Calls <code>fn</code> with the result of <code>regex.exec(string)</code> if that result is not null,
and returns the resulting value.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-parseint-string">
        <h3 class="doctext-05 ">
            <a href="#function-parseint-string">
                <code class="function language-js"><span class="token function">parseInt</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Parse to integer without having to worry about the radix parameter,
making it suitable, for example, to use in <code>array.map(parseInt)</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-slugify-string">
        <h3 class="doctext-05 ">
            <a href="#function-slugify-string">
                <code class="function language-js"><span class="token function">slugify</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Replaces any series of non-word characters with a <code>'-'</code> and lowercases the rest.</p>
<pre><code class="language-js">    <span class="token function">slugify</span><span class="token punctuation">(</span><span class="token string">'Party on #mydudes!'</span><span class="token punctuation">)</span> <span class="token comment">// 'party-on-mydudes'</span></code></pre>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-tocamelcase-string">
        <h3 class="doctext-05 ">
            <a href="#function-tocamelcase-string">
                <code class="function language-js"><span class="token function">toCamelCase</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Capitalises any Letter following a <code>'-'</code> and removes the dash.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-toplaintext-string">
        <h3 class="doctext-05 ">
            <a href="#function-toplaintext-string">
                <code class="function language-js"><span class="token function">toPlainText</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Normalises string as plain text without accents using canonical decomposition
(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize</a>).</p>
</article>

            </div>

            <div class="x1">
                <h4 class="doctext-03">Maths</h4>
                <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-wrap-min-max-n">
        <h3 class="doctext-05 ">
            <a href="#function-wrap-min-max-n">
                <code class="function language-js"><span class="token function">wrap</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> n<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-gaussian">
        <h3 class="doctext-05 ">
            <a href="#function-gaussian">
                <code class="function language-js"><span class="token function">gaussian</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Generate a random number with a gaussian distribution centred
at 0 with limits -1 to 1.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-todb-level">
        <h3 class="doctext-05 ">
            <a href="#function-todb-level">
                <code class="function language-js"><span class="token function">todB</span><span class="token punctuation">(</span>level<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Converts a value to decibels relative to unity (dBFS).</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-tolevel-db">
        <h3 class="doctext-05 ">
            <a href="#function-tolevel-db">
                <code class="function language-js"><span class="token function">toLevel</span><span class="token punctuation">(</span>dB<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Converts a dB value relative to unity (dBFS) to unit value.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-torad-deg">
        <h3 class="doctext-05 ">
            <a href="#function-torad-deg">
                <code class="function language-js"><span class="token function">toRad</span><span class="token punctuation">(</span>deg<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-todeg-rad">
        <h3 class="doctext-05 ">
            <a href="#function-todeg-rad">
                <code class="function language-js"><span class="token function">toDeg</span><span class="token punctuation">(</span>rad<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-clamp-min-max-n">
        <h3 class="doctext-05 ">
            <a href="#function-clamp-min-max-n">
                <code class="function language-js"><span class="token function">clamp</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> n<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-mod-divisor-n">
        <h3 class="doctext-05 ">
            <a href="#function-mod-divisor-n">
                <code class="function language-js"><span class="token function">mod</span><span class="token punctuation">(</span>divisor<span class="token punctuation">,</span> n<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>JavaScript’s modulu operator (<code>%</code>) uses Euclidean division, but for
stuff that cycles through 0 the symmetrics of floored division are often
are more useful. This function implements floored division.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-gcd-a-b">
        <h3 class="doctext-05 ">
            <a href="#function-gcd-a-b">
                <code class="function language-js"><span class="token function">gcd</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns the greatest common divider of a and b.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-lcm-a-b">
        <h3 class="doctext-05 ">
            <a href="#function-lcm-a-b">
                <code class="function language-js"><span class="token function">lcm</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns the lowest common multiple of a and b.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-factorise-array">
        <h3 class="doctext-05 ">
            <a href="#function-factorise-array">
                <code class="function language-js"><span class="token function">factorise</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Reduces a fraction (represented by <code>array</code> in the form
<code>[numerator, denominator]</code>) by finding the greatest common divisor and
dividing by it both values by it.</p>
<p>Returns a new array in the form <code>[numerator, denominator]</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-cubicbezier-point1-point2-duration-x">
        <h3 class="doctext-05 ">
            <a href="#function-cubicbezier-point1-point2-duration-x">
                <code class="function language-js"><span class="token function">cubicBezier</span><span class="token punctuation">(</span>point1<span class="token punctuation">,</span> point2<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> x<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Where <code>point1</code> and <code>point2</code> are <code>[x, y]</code> vectors describing control points.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-tocartesian-polar">
        <h3 class="doctext-05 ">
            <a href="#function-tocartesian-polar">
                <code class="function language-js"><span class="token function">toCartesian</span><span class="token punctuation">(</span>polar<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-topolar-cartesian">
        <h3 class="doctext-05 ">
            <a href="#function-topolar-cartesian">
                <code class="function language-js"><span class="token function">toPolar</span><span class="token punctuation">(</span>cartesian<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

            </div>
        </div>

        <div class="x1 3x @2-x7 column-grid grid">
            <div class="x1">
                <h4 class="doctext-03">Arrays</h4>
                <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-by-fn-a-b">
        <h3 class="doctext-05 ">
            <a href="#function-by-fn-a-b">
                <code class="function language-js"><span class="token function">by</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Compares <code>fn(a)</code> against <code>fn(b)</code> and returns <code>-1</code>, <code>0</code> or <code>1</code>. Useful for sorting
objects by property:</p>
<pre><code><span class="token punctuation">[</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>id<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">by</span><span class="token punctuation">(</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [{id: '1'}, {id: '2'}]</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-byalphabet-a-b">
        <h3 class="doctext-05 ">
            <a href="#function-byalphabet-a-b">
                <code class="function language-js"><span class="token function">byAlphabet</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Compares <code>a</code> against <code>b</code> alphabetically using the current locale alphabet.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-each-fn-array">
        <h3 class="doctext-05 ">
            <a href="#function-each-fn-array">
                <code class="function language-js"><span class="token function">each</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> array<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Calls <code>fn</code> for each member in <code>array</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-map-fn-object">
        <h3 class="doctext-05 ">
            <a href="#function-map-fn-object">
                <code class="function language-js"><span class="token function">map</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Delegates to <code>object.map</code> or <code>Array.map</code> to return a new collection of mapped
values.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-filter-fn-object">
        <h3 class="doctext-05 ">
            <a href="#function-filter-fn-object">
                <code class="function language-js"><span class="token function">filter</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Delegates to <code>object.filter</code> or <code>Array.filter</code> to return a new collection of
filtered objects.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-reduce-fn-seed-object">
        <h3 class="doctext-05 ">
            <a href="#function-reduce-fn-seed-object">
                <code class="function language-js"><span class="token function">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> seed<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Delegates to <code>object.reduce</code> or <code>Array.reduce</code> to return a reduced value.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-concat-array2-array1">
        <h3 class="doctext-05 ">
            <a href="#function-concat-array2-array1">
                <code class="function language-js"><span class="token function">concat</span><span class="token punctuation">(</span>array2<span class="token punctuation">,</span> array1<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Where JavaScript’s Array.concat only works reliably on arrays, <code>concat</code>
will glue together any old array-like object.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-insert-fn-array-object">
        <h3 class="doctext-05 ">
            <a href="#function-insert-fn-array-object">
                <code class="function language-js"><span class="token function">insert</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> array<span class="token punctuation">,</span> object<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Inserts <code>object</code> into <code>array</code> at the first index where the result of
<code>fn(object)</code> is greater than <code>fn(array[index])</code>.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-last-array">
        <h3 class="doctext-05 ">
            <a href="#function-last-array">
                <code class="function language-js"><span class="token function">last</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Gets the last value from an array.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-remove-array-value">
        <h3 class="doctext-05 ">
            <a href="#function-remove-array-value">
                <code class="function language-js"><span class="token function">remove</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Remove <code>value</code> from <code>array</code>. Where <code>value</code> is not in <code>array</code>, does nothing.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-rest-n-array">
        <h3 class="doctext-05 ">
            <a href="#function-rest-n-array">
                <code class="function language-js"><span class="token function">rest</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> array<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-take-n-array">
        <h3 class="doctext-05 ">
            <a href="#function-take-n-array">
                <code class="function language-js"><span class="token function">take</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> array<span class="token punctuation">)</span></code>
            </a>
        </h3>
    </article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-unique-array">
        <h3 class="doctext-05 ">
            <a href="#function-unique-array">
                <code class="function language-js"><span class="token function">unique</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Takes an array or stream as <code>array</code>, returns an object of the same
type without duplicate values.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-update-create-destroy-fn-target-source">
        <h3 class="doctext-05 ">
            <a href="#function-update-create-destroy-fn-target-source">
                <code class="function language-js"><span class="token function">update</span><span class="token punctuation">(</span>create<span class="token punctuation">,</span> destroy<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> target<span class="token punctuation">,</span> source<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Returns a new array containing items that are either matched objects from
<code>target</code> assigned new data from <code>source</code> objects or, where no match is found,
new objects created by calling <code>create</code> on a <code>source</code> object. Any objects
in <code>target</code> that are not matched to <code>source</code> objects are destroyed by calling
<code>destroy</code> on them.</p>
</article>

            </div>

            <div class="x1">
                <h4 class="doctext-03">Time</h4>
                <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-parsedate-date">
        <h3 class="doctext-05 ">
            <a href="#function-parsedate-date">
                <code class="function language-js"><span class="token function">parseDate</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Parse a date, where, <code>date</code> may be:</p>
<ul>
<li>a string in ISO date format</li>
<li>a number in seconds UNIX time</li>
<li>a date object</li>
</ul>
<p>Returns a date object (or <em>the</em> date object, if it represents a valid date).</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-parsedatelocal-date">
        <h3 class="doctext-05 ">
            <a href="#function-parsedatelocal-date">
                <code class="function language-js"><span class="token function">parseDateLocal</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>As <code>parseDate(date)</code>, but returns a date object with local time set to the
result of the parse.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-formatdate-format-locale-timezone-date">
        <h3 class="doctext-05 ">
            <a href="#function-formatdate-format-locale-timezone-date">
                <code class="function language-js"><span class="token function">formatDate</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> locale<span class="token punctuation">,</span> timezone<span class="token punctuation">,</span> date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Formats <code>date</code>, an ISO string or number in seconds or a JS date object,
to the format of the string <code>format</code>. The format string may contain the tokens:</p>
<ul>
<li><code>'YYYY'</code> years</li>
<li><code>'YY'</code>   2-digit year</li>
<li><code>'MM'</code>   month, 2-digit</li>
<li><code>'MMM'</code>  month, 3-letter</li>
<li><code>'MMMM'</code> month, full name</li>
<li><code>'D'</code>    day of week</li>
<li><code>'DD'</code>   day of week, two-digit</li>
<li><code>'DDD'</code>  weekday, 3-letter</li>
<li><code>'DDDD'</code> weekday, full name</li>
<li><code>'hh'</code>   hours</li>
<li><code>'mm'</code>   minutes</li>
<li><code>'ss'</code>   seconds</li>
</ul>
<p>The <code>locale</code> string may be <code>'en'</code> or <code>'fr'</code>. The <code>'timezone'</code> parameter is
either <code>'UTC'</code> or an IANA timezone such as ‘<code>Europe/Zurich</code>‘
(<a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">timezones on Wikipedia</a>).</p>
<pre><code><span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token string">'YYYY'</span><span class="token punctuation">,</span> <span class="token string">'en'</span><span class="token punctuation">,</span> <span class="token string">'UTC'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 2020</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-formatdatelocal-format-locale-date">
        <h3 class="doctext-05 ">
            <a href="#function-formatdatelocal-format-locale-date">
                <code class="function language-js"><span class="token function">formatDateLocal</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> locale<span class="token punctuation">,</span> date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>As <code>formatDate(date)</code>, but returns a date object with local time set to the
result of the parse.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-formatdateiso-date">
        <h3 class="doctext-05 ">
            <a href="#function-formatdateiso-date">
                <code class="function language-js"><span class="token function">formatDateISO</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Formats <code>date</code> (a string or a number or date accepted by <code>parseDate(date)</code>) as
a string in the ISO date format.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-formatdatetimeiso-date">
        <h3 class="doctext-05 ">
            <a href="#function-formatdatetimeiso-date">
                <code class="function language-js"><span class="token function">formatDateTimeISO</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Formats <code>date</code> (a string or a number or date accepted by <code>parseDate(date)</code>) as
a string in the ISO datetime format.</p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-adddate-diff-date">
        <h3 class="doctext-05 ">
            <a href="#function-adddate-diff-date">
                <code class="function language-js"><span class="token function">addDate</span><span class="token punctuation">(</span>diff<span class="token punctuation">,</span> date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Sums <code>diff</code> and <code>date</code>, where <code>diff</code> is a string in ISO date format. Returns
a new date object.</p>
<pre><code><span class="token keyword">const</span> addWeek <span class="token operator">=</span> <span class="token function">addDate</span><span class="token punctuation">(</span><span class="token string">'0000-00-07'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sameTimeNextWeek <span class="token operator">=</span> <span class="token function">addWeek</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-floordate-token-date">
        <h3 class="doctext-05 ">
            <a href="#function-floordate-token-date">
                <code class="function language-js"><span class="token function">floorDate</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> date<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Floors date to the start of nearest calendar point in increment indicated
by <code>token</code>:</p>
<ul>
<li><code>'Y'</code>   Year</li>
<li><code>'M'</code>   Month</li>
<li><code>'w'</code>   Week</li>
<li><code>'d'</code>   Day</li>
<li><code>'h'</code>   Hour</li>
<li><code>'m'</code>   Minute</li>
<li><code>'s'</code>   Second</li>
<li><code>'mon'</code> Monday</li>
<li><code>'tue'</code> Tuesday</li>
<li><code>'wed'</code> Wednesday</li>
<li><code>'thu'</code> Thursday</li>
<li><code>'fri'</code> Friday</li>
<li><code>'sat'</code> Saturday</li>
<li><code>'sun'</code> Sunday</li>
</ul>
<pre><code><span class="token keyword">const</span> dayCounts <span class="token operator">=</span> times<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">floorDate</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-parsetime-time">
        <h3 class="doctext-05 ">
            <a href="#function-parsetime-time">
                <code class="function language-js"><span class="token function">parseTime</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Where <code>time</code> is a string it is parsed as a time in ISO time format: as
hours <code>'13'</code>, with minutes <code>'13:25'</code>, with seconds <code>'13:25:14'</code> or with
decimal seconds <code>'13:25:14.001'</code>. Returns a number in seconds.</p>
<pre><code><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token function">parseTime</span><span class="token punctuation">(</span><span class="token string">'13:25:14.001'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 48314.001</span></code></pre><p>Where <code>time</code> is a number it is assumed to represent a time in seconds
and is returned directly.</p>
<pre><code><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token function">parseTime</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 60</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-formattime-format-time">
        <h3 class="doctext-05 ">
            <a href="#function-formattime-format-time">
                <code class="function language-js"><span class="token function">formatTime</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> time<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Formats <code>time</code>, an ‘hh:mm:ss’ time string or a number in seconds, to match
<code>format</code>, a string that may contain the tokens:</p>
<ul>
<li><code>'±'</code>   Sign, renders ‘-‘ if time is negative, otherwise nothing</li>
<li><code>'Y'</code>   Years, approx.</li>
<li><code>'M'</code>   Months, approx.</li>
<li><code>'MM'</code>  Months, remainder from years (max 12), approx.</li>
<li><code>'w'</code>   Weeks</li>
<li><code>'ww'</code>  Weeks, remainder from months (max 4)</li>
<li><code>'d'</code>   Days</li>
<li><code>'dd'</code>  Days, remainder from weeks (max 7)</li>
<li><code>'h'</code>   Hours</li>
<li><code>'hh'</code>  Hours, remainder from days (max 24), 2-digit format</li>
<li><code>'m'</code>   Minutes</li>
<li><code>'mm'</code>  Minutes, remainder from hours (max 60), 2-digit format</li>
<li><code>'s'</code>   Seconds</li>
<li><code>'ss'</code>  Seconds, remainder from minutes (max 60), 2-digit format</li>
<li><code>'sss'</code> Seconds, remainder from minutes (max 60), fractional</li>
<li><code>'ms'</code>  Milliseconds, remainder from seconds (max 1000), 3-digit format</li>
</ul>
<pre><code><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token function">formatTime</span><span class="token punctuation">(</span><span class="token string">'±hh:mm:ss'</span><span class="token punctuation">,</span> <span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 01:00:00</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-formattimeiso-time">
        <h3 class="doctext-05 ">
            <a href="#function-formattimeiso-time">
                <code class="function language-js"><span class="token function">formatTimeISO</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Formats <code>time</code>, an ‘hh:mm:sss’ time string or a number in seconds, as a string
in the ISO time format.
<code>`</code></p>
</article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-addtime-time1-time2">
        <h3 class="doctext-05 ">
            <a href="#function-addtime-time1-time2">
                <code class="function language-js"><span class="token function">addTime</span><span class="token punctuation">(</span>time1<span class="token punctuation">,</span> time2<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Sums <code>time2</code> and <code>time1</code>, which may be ‘hh:mm:sss’ time strings or numbers in
seconds, and returns time as a number in seconds. <code>time1</code> may contain hours
outside the range 0-24 or minutes or seconds outside the range 0-60. For
example, to add 75 minutes to a list of times you may write:</p>
<pre><code><span class="token keyword">const</span> laters <span class="token operator">=</span> times<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">addTime</span><span class="token punctuation">(</span><span class="token string">'00:75'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-floortime-token-time">
        <h3 class="doctext-05 ">
            <a href="#function-floortime-token-time">
                <code class="function language-js"><span class="token function">floorTime</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> time<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Floors time to the start of the nearest <code>token</code>, where <code>token</code> is one of:</p>
<ul>
<li><code>'w'</code>   Week</li>
<li><code>'d'</code>   Day</li>
<li><code>'h'</code>   Hour</li>
<li><code>'m'</code>   Minute</li>
<li><code>'s'</code>   Second</li>
<li><code>'ms'</code>  Millisecond</li>
</ul>
<p><code>time</code> may be an ISO time string or a time in seconds. Returns a time in seconds.</p>
<pre><code><span class="token keyword">const</span> hourCounts <span class="token operator">=</span> times<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token function">floorTime</span><span class="token punctuation">(</span><span class="token string">'h'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>

            </div>
        </div>
    </section>

    <section class="x1 3x @1-6x @2-9x @3-x2 columns-grid grid" data-targetable="" id="observer">
        <header class="x1 3x @1-4x">
            <h2 class="doctext-02" style="font-size: 1.875rem;">Observer</h2>
            <p class="doctext-08">An observer is an ES6 Proxy of an object that intercepts and
            reports mutations. Import and create an observer:</p>
            <pre class=" language-js"><code class=" language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Observer<span class="token punctuation">,</span> observe <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/fn/module.js'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">Observer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
            <p class="doctext-08">
            There is only ever one observer per object, ie, calling
            <code>Observer(object)</code> multiple times with the same object
            (or proxy of that object) always returns the same observer proxy.
            Observers can be observed for mutations with the observe function:
            </p>

            <pre class=" language-js"><code class=" language-js"><span class="token function">observe</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span>log<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

            <p class="doctext-08">Mutations made to the observer proxy's <code>value</code>
            property are now logged to the console.</p>

            <pre class=" language-js"><code class=" language-js">data<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>   <span class="token comment">// Logs `false`</span></code></pre>
        </header>

        <div class="x1 3x list-grid grid">
            <!--template-->
    <article class="function-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="function-observe-path-fn-object-init">
        <h3 class="doctext-05 ">
            <a href="#function-observe-path-fn-object-init">
                <code class="function language-js"><span class="token function">observe</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> object <span class="token punctuation">[</span><span class="token punctuation">,</span> init<span class="token punctuation">]</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Observe <code>path</code> in <code>object</code> and call <code>fn(value)</code> with the value at the
end of that path when it mutates. Returns a function that destroys this
observer.</p>
<p>The callback <code>fn</code> is called immediately on initialisation if the value at
the end of the path is not equal to <code>init</code>. In the default case where
<code>init</code> is <code>undefined</code>, paths that end in <code>undefined</code> do not cause the
callback to be called.</p>
<p>(To force the callback to always be called on setup, pass in <code>NaN</code> as an
<code>init</code> value. In JS <code>NaN</code> is not equal to anything, even <code>NaN</code>, so it
always initialises.)</p>
</article>

        </div>
    </section>

    <!--div class="x1 3x @2-x2 @3-6x @4-5x @5-3x">
        <p class="doctext-08">Text things</p>
    </div-->

    <!--div class="x1 3x @2-x2 @3-6x @4-5x @5-3x" build-fn="docs:'./modules/stream.js'"></div-->

    <section class="x1 3x @1-6x @2-9x @3-x2 columns-grid grid" data-targetable="" id="stream">
        <header class="x1 3x @1-4x">
            <h2 class="doctext-02" style="font-size: 1.875rem;">Stream</h2>
            <p class="doctext-08">Import and create a stream:</p>
            <pre class=" language-js"><code class=" language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Stream <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'/fn/module.js'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> stream <span class="token operator">=</span> Stream<span class="token punctuation">.</span><span class="token keyword">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
        </header>

        <div class="x1 3x list-grid grid">
            <!--template-->
            <!--template-->
    <h3 class="doctext-04">Properties </h3>

    <article class="property-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="property-status">
        <h3 class="doctext-05 dot-indent">
            <a href="#property-status">
                <code class="property language-js">.status</code>
            </a>
        </h3>
    <p>Reflects the running status of the stream. When all values have been consumed
status is <code>'done'</code>.</p>
</article>

        </div>

        <div class="x1 3x @1-x4 list-grid grid">
            <!--template-->
    <h3 class="doctext-04">Write </h3>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-push-value">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-push-value">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Pushes a <code>value</code> (or multiple values) into the head of a writeable stream.
    If the stream is not writeable, it does not have a <code>.push()</code> method.</p>
</article>

    <h3 class="doctext-04">Map </h3>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-flat">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-flat">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Flattens a stream of streams or arrays into a single stream.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-flatmap-fn">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-flatmap-fn">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Maps values to lists – <code>fn(value)</code> must return an array, functor, stream
    (or any other duck with a <code>.shift()</code> method) and flattens those lists into a
    single stream.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-map-fn">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-map-fn">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Maps values to the result of <code>fn(value)</code>.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-merge-stream">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-merge-stream">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Merges this stream with <code>stream</code>, which may be an array, array-like
    or functor.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-scan-fn-seed">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-scan-fn-seed">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> seed<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Calls <code>fn(accumulator, value)</code> and emits <code>accumulator</code> for each value
    in the stream.</p>
</article>

    <h3 class="doctext-04">Filter </h3>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-dedup">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-dedup">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">dedup</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Filters out consecutive equal values.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-filter-fn">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-filter-fn">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Filter values according to the truthiness of <code>fn(value)</code>.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-latest">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-latest">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">latest</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>When the stream has a values buffered, passes the last value
    in the buffer.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-rest-n">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-rest-n">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">rest</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Filters the stream to the <code>n</code>th value and above.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-take-n">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-take-n">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Filters the stream to the first <code>n</code> values.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-throttle-time">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-throttle-time">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Throttles values such that the latest value is emitted every <code>time</code> seconds.
    Other values are discarded. The parameter <code>time</code> may also be a timer options
    object, an object with <code>{ request, cancel, now }</code> functions,
    allowing the creation of, say, and animation frame throttle.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-wait-time">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-wait-time">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Emits the latest value only after <code>time</code> seconds of inactivity.
    Other values are discarded.</p>
</article>

        </div>

        <div class="x1 3x @2-x7 list-grid grid">
            <!--template-->
    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-combine-fn-stream">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-combine-fn-stream">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> stream<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Combines the latest values from this stream and <code>stream</code> via the combinator
    <code>fn</code> any time a new value is emitted by either stream.</p>
</article>

    <h3 class="doctext-04">Read </h3>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-clone">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-clone">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Creates a read-only copy of the stream.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-each-fn">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-each-fn">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Thirstilly consumes the stream, calling <code>fn(value)</code> whenever
    a value is available.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-last-fn">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-last-fn">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Consumes the stream when stopped, calling <code>fn(value)</code> with the
    last value read from the stream.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-fold-fn-accumulator">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-fold-fn-accumulator">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> accumulator<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Consumes the stream when stopped, calling <code>fn(accumulator, value)</code>
    for each value in the stream. Returns a promise.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-shift">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-shift">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Reads a value from the stream. If no values are in the stream, returns
    <code>undefined</code>. If this is the last value in the stream, <code>stream.status</code>
    is <code>'done'</code>.</p>
</article>

    <h3 class="doctext-04">Lifecycle </h3>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-done-fn">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-done-fn">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Calls <code>fn()</code> after the stream is stopped and all values have been drained.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-start">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-start">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>If the stream’s producer is startable, starts the stream.</p>
</article>

    <article class="method-doc-toggle-block doc-toggle-block toggle-block block" toggleable="" id="method-stop">
        <h3 class="doctext-05 dot-indent">
            <a href="#method-stop">
                <code class="function language-js"><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>
            </a>
        </h3>
    <p>Stops the stream. No more values can be pushed to the stream and any
    consumers added will do nothing. However, depending on the stream’s source
    the stream may yet drain any buffered values into an existing consumer
    before entering <code>'done'</code> state. Once in <code>'done'</code> state a stream is
    entirely inert.</p>
</article>

        </div>
    </section>



    <!-- Document interactivity -->
    <script type="module">
        import '../bolt/modules/device.js';
        import '../bolt/attributes/data-toggleable.js';
        import '../bolt/modules/data-targetable.js';
        import * as Fn from './module.js';
        window.Fn = Fn;
    </script>

</body></html>